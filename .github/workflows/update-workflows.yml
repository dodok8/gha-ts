# Auto-generated by gaji
# Do not edit manually - Edit workflows/gaji.ts instead
# Generated at: 2026-02-12T14:42:45Z

jobs:
  build-workflows:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
    - uses: dtolnay/rust-toolchain@stable
    - uses: Swatinem/rust-cache@v2
    - name: Build gaji
      run: cargo build --release
    - name: Generate workflows
      run: ./target/release/gaji build
    - id: changes
      name: Check for changes
      run: |-
        if git diff --quiet .github/workflows/; then
          echo "changed=false" >> $GITHUB_OUTPUT
        else
          echo "changed=true" >> $GITHUB_OUTPUT
        fi
    - if: steps.changes.outputs.changed == 'true'
      name: Commit and push
      run: |-
        git config user.name "github-actions[bot]"
        git config user.email "github-actions[bot]@users.noreply.github.com"
        git add .github/workflows/
        git commit -m "chore: update generated workflows"
        git push
name: Update Workflows
on:
  push:
    branches:
    - main
    paths:
    - workflows/**
